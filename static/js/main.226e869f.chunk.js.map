{"version":3,"sources":["App.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","services/imagesApi.js","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","axios","defaults","baseURL","fetchImages","searchQuery","currentPage","get","then","response","data","hits","SearchBar","state","query","handleChange","event","setState","target","value","handleSubmit","preventDefault","console","log","props","onSubmit","this","className","styles","Searchbar","SearchForm","type","SearchFormButton","SearchFormButtonLabel","name","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","modalRoot","document","querySelector","Modal","handleCloseEscape","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","children","Button","onLoadMore","ImageGalleryItem","webformatURL","largeImageURL","tags","setLargeImg","src","alt","ImageGalleryItemImage","data-largeimageurl","data-tags","ImageGallery","images","map","id","App","isLoading","error","showModal","imgTags","onChangeQuery","fecthImages","imagesApi","prevState","catch","finally","scrollToBottom","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","dataset","largeimageurl","prevProps","loader","visible","secondaryColor","color","height","width","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.226e869f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2VA-z\",\"appContainer\":\"App_appContainer__20sQb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1OlVD\",\"Modal\":\"Modal_Modal__cPbEd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__17vwl\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1weg9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1yzB2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1_7SR\"};","import axios from \"axios\";\r\n\r\n// \"https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\";\r\n\r\nconst KEY = \"20207250-3e42ced94c2caff6bd60b0b02\";\r\naxios.defaults.baseURL = \"https://pixabay.com/api\";\r\n\r\nconst fetchImages = ({ searchQuery = \"\", currentPage = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `/?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default fetchImages;\r\n\r\n//     .then(({ data }) => data.hits);\r\n","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\n\r\nexport default class SearchBar extends Component {\r\n\r\n  state = {\r\n    query: '',\r\n\r\n}\r\n\r\n  \r\n  handleChange = event => {\r\n    this.setState({ query: event.target.value });\r\n  };\r\n  \r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    console.log(this.state);\r\n    this.props.onSubmit(this.state.query)\r\n  }\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleSubmit}\r\n          className={styles.SearchForm}>\r\n    <button type=\"submit\" className={styles.SearchFormButton}>\r\n      <span className={styles.SearchFormButtonLabel}>Search</span>\r\n    </button>\r\n\r\n      <input\r\n      name=\"query\"\r\n      value={query}\r\n      onChange={this.handleChange}\r\n      className={styles.SearchFormInput}\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n    />\r\n  </form>\r\n</header>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\n\r\n\r\nexport default class Modal extends Component {\r\n  \r\n  componentDidMount() {\r\n\r\n    window.addEventListener(\"keydown\", this.handleCloseEscape);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleCloseEscape )\r\n  }\r\n\r\nhandleCloseEscape = event => {\r\n      if (event.code === 'Escape') {\r\n        this.props.onClose();\r\n      }\r\n    }\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.target === event.currentTarget) {\r\n      this.props.onClose();\r\n  }\r\n}\r\n\r\n  render() {\r\n      \r\n   return createPortal(\r\n     <div className={styles.Overlay} onClick = {this.handleBackdropClick}>\r\n     <div className={styles.Modal}>{this.props.children}</div>\r\n       </div>,\r\n       modalRoot,\r\n        );\r\n    \r\n}\r\n}\r\n\r\n\r\nModal.propTypes = {\r\n    children: PropTypes.node,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n   ","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css'\r\n\r\nconst Button = ({ onLoadMore }) => {\r\n    return (\r\n        <button className={styles.Button}\r\n            type='button'\r\n            onClick={()=>onLoadMore()}>\r\n            More images\r\n        </button>\r\n    )\r\n}\r\n\r\nButton.propTypes = {\r\n    onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import styles from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nconst ImageGalleryItem = ({ webformatURL,\r\n    largeImageURL,\r\n    tags = '',\r\n    setLargeImg,\r\n}) => {\r\n\r\n    return (\r\n        <li className={styles.ImageGalleryItem}>\r\n            <img src={webformatURL}\r\n                alt={tags}\r\n                className={styles.ImageGalleryItemImage}\r\n                data-largeimageurl={largeImageURL}\r\n                data-tags={tags}\r\n                onClick={setLargeImg} />\r\n        </li>\r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n    onSetImgInfo: PropTypes.func.isRequired,\r\n    openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import styles from './ImageGallery.module.css';\r\nimport React from 'react'\r\nimport ImageGalleryItem from '../ImageGalleryItem'\r\n\r\nconst ImageGallery = ({ images, setLargeImg }) => {\r\n  return (\r\n     <ul className={styles.ImageGallery}>\r\n            {images.map(({ webformatURL, tags,largeImageURL, id }) => (\r\n              <ImageGalleryItem\r\n                  key={id}\r\n                    webformatURL={webformatURL}\r\n                    largeImageURL={largeImageURL}\r\n                    tags={tags}\r\n                 setLargeImg={setLargeImg}\r\n              />\r\n            ))}\r\n        </ul>\r\n  )\r\n}\r\n\r\nexport default ImageGallery\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport styles from \"./App.module.css\";\nimport imagesApi from \"./services/imagesApi\";\nimport Searchbar from \"./components/Searchbar\";\nimport Modal from \"./components/Modal\";\nimport Button from \"./components/Button\";\nimport ImageGallery from \"./components/ImageGallery\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: \"\",\n    imgTags: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fecthImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fecthImages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n\n    imagesApi(options)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  setLargeImg = ({ target }) => {\n    const { largeimageurl, tags } = target.dataset;\n    this.setState({ largeImageURL: largeimageurl, imgTags: tags });\n    this.toggleModal();\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      error,\n      largeImageURL,\n      imgTags,\n      showModal,\n    } = this.state;\n\n    return (\n      <div className={styles.App}>\n        {error && (\n          <h1>We are sorry! Something went wrong.Please, try again!</h1>\n        )}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery images={images} />\n        <Loader\n          className={styles.loader}\n          visible={isLoading}\n          secondaryColor=\"#ff6d00\"\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n        />\n\n        <ImageGallery images={images} setLargeImg={this.setLargeImg} />\n\n        {images.length ? <Button onLoadMore={this.fetchImages} /> : \"\"}\n\n        {/* <button type=\"button\" onClick={this.toggleModal}>\n          show modal\n        </button> */}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={imgTags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__OTLJc\",\"SearchForm\":\"Searchbar_SearchForm__2ZXH3\",\"SearchFormButton\":\"Searchbar_SearchFormButton__17Pe9\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3YBue\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1Xbv2\"};"],"sourceRoot":""}